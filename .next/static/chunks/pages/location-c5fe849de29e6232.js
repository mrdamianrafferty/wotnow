(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[597],{2730:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>i});var a=t(7876),o=t(4232),l=t(3974);let i=()=>{let{preferences:e,setPreferences:n}=(0,l.HW)(),t=e.location,[i,c]=(0,o.useState)((null==t?void 0:t.name)||""),s=async()=>{try{let t=await fetch("https://api.openweathermap.org/geo/1.0/direct?q=".concat(encodeURIComponent(i),"&limit=1&appid=").concat((void 0).VITE_OPENWEATHER_KEY)),a=await t.json();if(a&&a.length>0){let{lat:t,lon:o}=a[0];n({...e,location:{name:i,lat:t,lon:o}})}else n({...e,location:{name:i}})}catch(t){n({...e,location:{name:i}})}};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("header",{className:"home-header",children:[(0,a.jsx)("h1",{children:"WotNow"}),(0,a.jsxs)("p",{children:["Current location: ",(0,a.jsx)("strong",{children:(null==t?void 0:t.name)||"No location set"})]}),(0,a.jsxs)("div",{className:"location-input",children:[(0,a.jsx)("input",{type:"text",value:i,onChange:e=>c(e.target.value),placeholder:"Enter city name"}),(0,a.jsx)("button",{onClick:s,children:"Save"})]})]})})}},9030:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/location",function(){return t(2730)}])}},e=>{var n=n=>e(e.s=n);e.O(0,[636,593,792],()=>n(9030)),_N_E=e.O()}]);