"use strict";(()=>{var e={};e.id=332,e.ids=[220,332,636],e.modules={182:(e,n,i)=>{function t(e,n){if(null==n[function(e){let n=e.match(/^([a-zA-Z_]+)=(-?\d+(?:\.\d+)?)\.\.(-?\d+(?:\.\d+)?)/);if(n)return n[1];let i=e.match(/^([a-zA-Z_]+)[<>=!]=?/);return i?i[1]:e}(e)])return!0;let i=function(e){let n=e.match(/^([a-zA-Z_]+)=(-?\d+(?:\.\d+)?)\.\.(-?\d+(?:\.\d+)?)/);if(n)return{key:n[1],operator:"range",min:parseFloat(n[2]),max:parseFloat(n[3])};let i=e.match(/^([a-zA-Z_]+)([<>=!]=?|==)(-?\d+(?:\.\d+)?)/);return i?{key:i[1],operator:i[2],value:parseFloat(i[3])}:null}(e);if(!i)return!1;let t=n[i.key];if(null==t)return!1;if("range"===i.operator)return t>=i.min&&t<=i.max;switch(i.operator){case">":return t>i.value;case">=":return t>=i.value;case"<":return t<i.value;case"<=":return t<=i.value;case"=":case"==":return t===i.value;case"!=":return t!==i.value;default:return console.warn(`Unknown operator: ${i.operator}`),!1}}function a({forecast:e=[],interests:n=[],activities:i=[]}){return Array.isArray(i)&&Array.isArray(e)?e.map(e=>{let a=Array.isArray(e.marine)&&e.marine.length>0?e.marine[0]:{},o={...e.weather,...a},r=new Date(e.date).getMonth()+1,s=i.filter(e=>n.includes(e.id)&&(!e.seasonalMonths||e.seasonalMonths.includes(r))),l=[],d=[],g=[],c=[];for(let e of s){let{id:n,weatherSensitive:i,indoorAlternative:a}=e,r=function(e,n){return!1===e.weatherSensitive?"indoor":e.poorConditions?.some(e=>t(e,n))?"excluded":e.perfectConditions?.length&&e.perfectConditions.every(e=>t(e,n))?"perfect":e.goodConditions?.length&&e.goodConditions.every(e=>t(e,n))?"good":e.goodConditions&&0!==e.goodConditions.length||e.perfectConditions&&0!==e.perfectConditions.length?"excluded":"acceptable"}(e,o);"excluded"!==r&&("perfect"===r?l.push({activityId:n,evaluation:"perfect"}):"good"===r?d.push({activityId:n,evaluation:"good"}):"acceptable"===r?d.push({activityId:n,evaluation:"acceptable"}):"indoor"===r&&c.push({activityId:n,evaluation:"indoor"}),i&&a&&g.push(a))}let p=[],u=new Set;function y(e){for(let n of e)!u.has(n.activityId)&&p.length<10&&(u.add(n.activityId),p.push(n))}if(y(l),y(d),p.length<10&&g.length>0)for(let e of g){let n=i.find(n=>n.id===e||n.name===e);if(n&&!u.has(n.id)&&(p.push({activityId:n.id,evaluation:"indoorAlternative"}),u.add(n.id),p.length>=10))break}if(p.length<10){for(let e of c)if(!u.has(e.activityId)&&(p.push(e),u.add(e.activityId),p.length>=10))break}return{date:e.date,suggestions:p}}):[]}i.d(n,{p:()=>a})},237:(e,n)=>{Object.defineProperty(n,"A",{enumerable:!0,get:function(){return i}});var i=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},361:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},1413:(e,n)=>{Object.defineProperty(n,"M",{enumerable:!0,get:function(){return function e(n,i){return i in n?n[i]:"then"in n&&"function"==typeof n.then?n.then(n=>e(n,i)):"function"==typeof n&&"default"===i?n:void 0}}})},2015:e=>{e.exports=require("react")},3022:(e,n,i)=>{i.r(n),i.d(n,{default:()=>r});var t=i(8732),a=i(2341),o=i.n(a);class r extends o(){render(){return(0,t.jsxs)(a.Html,{children:[(0,t.jsx)(a.Head,{}),(0,t.jsxs)("body",{children:[(0,t.jsx)(a.Main,{}),(0,t.jsx)(a.NextScript,{})]})]})}}},3873:e=>{e.exports=require("path")},5255:(e,n,i)=>{i.r(n),i.d(n,{config:()=>x,default:()=>f,getServerSideProps:()=>k,getStaticPaths:()=>w,getStaticProps:()=>v,reportWebVitals:()=>j,routeModule:()=>N,unstable_getServerProps:()=>A,unstable_getServerSideProps:()=>M,unstable_getStaticParams:()=>I,unstable_getStaticPaths:()=>S,unstable_getStaticProps:()=>P});var t={};i.r(t),i.d(t,{default:()=>b});var a=i(3885),o=i(237),r=i(1413),s=i(3022),l=i(8198),d=i(8732),g=i(2015),c=i(182),p=i(3136),u=i(2165);let y={beach_volleyball:"\uD83C\uDFD0",american_football:"\uD83C\uDFC8",baseball:"⚾",hurling_camogie:"\uD83C\uDFD1",gaelic_football:"\uD83C\uDFD0",hockey:"\uD83C\uDFD2",netball:"\uD83C\uDFD0",golf:"⛳",tennis:"\uD83C\uDFBE",tennis_indoor:"\uD83C\uDFBE",squash:"\uD83C\uDFBE",badminton:"\uD83C\uDFF8",table_tennis:"\uD83C\uDFD3",archery:"\uD83C\uDFF9",pickleball:"\uD83C\uDFD3",padel:"\uD83C\uDFBE",kayaking:"\uD83D\uDEF6",canoeing:"\uD83D\uDEF6",surfing:"\uD83C\uDFC4",stand_up_paddleboarding:"\uD83E\uDDA6",snorkeling:"\uD83E\uDD3F",swimming:"\uD83C\uDFCA",indoor_swimming:"\uD83C\uDFCA",mountain_biking:"\uD83D\uDEB5",rock_climbing:"\uD83E\uDDD7",indoor_climbing:"\uD83E\uDDD7",skateboarding:"\uD83D\uDEF9",rollerblading:"\uD83D\uDEFC",running:"\uD83C\uDFC3",trail_running:"\uD83C\uDFC3",road_cycling:"\uD83D\uDEB4",cycling:"\uD83D\uDEB4",urban_exploring:"\uD83D\uDEB6\uD83C\uDFFD",gym_workout:"\uD83C\uDFCB️",outdoor_gym:"\uD83D\uDCAA",yoga:"\uD83E\uDDD8",outdoor_yoga:"\uD83E\uDDD8",meditation:"\uD83E\uDDD8",outdoor_meditation:"\uD83E\uDDD8",pilates:"\uD83E\uDD38",martial_arts:"\uD83E\uDD4B",tai_chi:"\uD83E\uDD77\uD83C\uDFFD",hiking:"\uD83E\uDD7E",birdwatching:"\uD83E\uDD85",photography:"\uD83D\uDCF8",foraging:"\uD83C\uDF3F",mushroom_hunting:"\uD83C\uDF44",stargazing:"⭐",fishing:"\uD83C\uDFA3",fly_fishing_freshwater:"\uD83E\uDEB6",coarse_fishing:"\uD83C\uDFA3",sea_fishing_shore:"\uD83C\uDF0A",sea_fishing_boat:"\uD83D\uDEA4",ice_fishing:"\uD83E\uDDCA",picnicking:"\uD83E\uDDFA",bbq:"\uD83C\uDF54",geocaching:"\uD83D\uDDFA️",camping:"⛺",outdoor_reading:"\uD83D\uDCDA",dog_walking:"\uD83D\uDC15",outdoor_playground:"\uD83D\uDEDD",outdoor_chess:"♟️",skiing:"⛷️",snowboarding:"\uD83C\uDFC2",cross_country_skiing:"\uD83C\uDFBF",ice_skating:"⛸️",curling:"\uD83E\uDD4C",ice_hockey:"\uD83C\uDFD2",painting:"\uD83C\uDFA8",outdoor_painting:"\uD83C\uDFA8",crafts:"✂️",knitting:"\uD83E\uDDF6",diy:"\uD83D\uDD28",playing_records:"\uD83D\uDC69\uD83C\uDFFD‍\uD83C\uDFA4",make_music:"\uD83C\uDFB5",dance:"\uD83D\uDC83",outdoor_music:"\uD83C\uDFB5",reading:"\uD83D\uDCDA",going_to_pub:"\uD83C\uDF7A",playing_cards:"\uD83C\uDCCF",watch_a_movie:"\uD83D\uDCFA",cooking:"\uD83D\uDC68‍\uD83C\uDF73",cinema:"\uD83C\uDFAC",museum:"\uD83C\uDFDB️",shopping:"\uD83D\uDECD️",cafe:"☕"};function h(e){return y[e]||"❔"}let m={football_soccer:"/crowdy.png",cricket:"/crowdy.png",rugby:"/crowdy.png",basketball_outdoor:"/crowdy.png",beach_volleyball:"/beachy.png",american_football:"/crowdy.png",baseball:"/crowdy.png",hurling:"/crowdy.png",gaelic_football:"/crowdy.png",hockey:"/crowdy.png",netball:"/crowdy.png",golf:"/crowdy.png",tennis:"/crowdy.png",tennis_indoor:"/crowdy.png",squash:"/crowdy.png",badminton:"/crowdy.png",table_tennis:"/crowdy.png",archery:"/crowdy.png",pickleball:"/crowdy.png",padel:"/crowdy.png",kayaking:"/watery.png",canoeing:"/watery.png",surfing:"/watery.png",stand_up_paddleboarding:"/watery.png",snorkeling:"/beachy.png",swimming:"/beachy.png",indoor_swimming:"/watery.png",fly_fishing_freshwater:"/lake.png",coarse_fishing:"/lake.png",sea_fishing_shore:"/beachy.png",sea_fishing_boat:"/sea.png",mountain_biking:"/mountainy.png",rock_climbing:"/mountainy.png",hiking:"/mountainy.png",skateboarding:"/hackney.png",rollerblading:"/hackney.png",trail_running:"/woody.png",photography:"/hackney.png",running:"/city.png",road_cycling:"/city.png",cycling:"/city.png",urban_exploring:"/parky.png",outdoor_gym:"/parky.png",outdoor_yoga:"/parky.png",outdoor_meditation:"/parky.png",tai_chi:"/indoorsy.png",picnicking:"/parky.png",bbq:"/parky.png",geocaching:"/parky.png",camping:"/parky.png",outdoor_reading:"/parky.png",dog_walking:"/parky.png",outdoor_playground:"/parky.png",outdoor_chess:"/parky.png",outdoor_painting:"/parky.png",outdoor_music:"/parky.png",gym_workout:"/mountainy.png",yoga:"/gymy.png",pilates:"/gymy.png",martial_arts:"/gymy.png",indoor_climbing:"/gymy.png",meditation:"/indoorsy.png",crafts:"/indoorsy.png",knitting:"/indoorsy.png",diy:"/indoorsy.png",playing_records:"/indoorsy.png",reading:"/indoorsy.png",playing_cards:"/indoorsy.png",watch_a_movie:"/indoorsy.png",cooking:"/indoorsy.png",dance:"/dancey.png",make_music:"/creative.png",painting:"/creative.png",skiing:"/snowy.png",snowboarding:"/snowy.png",cross_country_skiing:"/snowy.png",ice_skating:"/snowy.png",curling:"/snowy.png",ice_hockey:"/snowy.png",ice_fishing:"/snowy.png",birdwatching:"/woodsy.png",foraging:"/woodsy.png",mushroom_hunting:"/woodsy.png",stargazing:"/milkyway.png",going_to_pub:"/pubby.png",cafe:"/pubby.png",cinema:"/buildingy.png",museum:"/buildingy.png",shopping:"/buildingy.png"},_=e=>{let n=["reading","going_to_pub","watch_a_movie","cooking","cinema","museum","shopping","cafe","playing_cards","crafts","knitting","diy","indoor_climbing","gym_workout","yoga","meditation","painting"],i=n.filter(n=>e.includes(n));return[...i,...n.filter(e=>!i.includes(e))].slice(0,10).map(e=>{let n=p.b.find(n=>n.id===e);return{activityId:e,activity:n}})};function b(){let{preferences:e,setPreferences:n}=(0,u.HW)(),{interests:i=[],location:t}=e,[a,o]=(0,g.useState)([]),[r,s]=(0,g.useState)(t?.name||""),[l,y]=(0,g.useState)(!0),[b,f]=(0,g.useState)(null),v=0===i.length,w=!t?.lat||!t?.lon,k=async()=>{try{let i=await fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${encodeURIComponent(r)}&limit=1&appid=748bd0822b74e58605964652c38d0796`),t=await i.json();if(Array.isArray(t)&&t.length>0){let{lat:i,lon:a}=t[0];n({...e,location:{name:r,lat:i,lon:a}}),f(null)}else f("Could not find that location. Please try another.")}catch{f("Failed to fetch location. Please try again.")}};return(0,d.jsxs)("section",{children:[(0,d.jsx)("header",{className:"homepage-banner",children:(0,d.jsxs)("div",{className:"homepage-banner__container",children:[(0,d.jsx)("img",{src:"/wotnow-horizontal.png",alt:"WotNow Logo",className:"homepage-banner__logo"}),(0,d.jsxs)("div",{className:"homepage-banner__text",children:[(0,d.jsx)("h1",{className:"homepage-banner__title",children:"What's good, when?"}),(0,d.jsx)("p",{className:"homepage-banner__subtitle",children:"Live your best life, every day"})]})]})}),(0,d.jsxs)("div",{className:"location-banner",children:[(0,d.jsxs)("div",{className:"location-banner__container",children:[(0,d.jsx)("label",{htmlFor:"location-input",className:"location-banner__label",children:"\uD83D\uDCCD Your location:"}),(0,d.jsx)("input",{id:"location-input",type:"text",className:"location-banner__input",value:r,onChange:e=>s(e.target.value),placeholder:"Enter your city or town","aria-label":"Location input"}),(0,d.jsx)("button",{className:"location-banner__button",onClick:k,children:"Save"}),(0,d.jsx)("span",{style:{marginLeft:10,color:"#237e6b",fontWeight:500},"aria-live":"polite",children:t?.name??""})]}),b&&(0,d.jsx)("p",{className:"location-error",style:{color:"#c00",marginTop:6},children:b})]}),v&&(0,d.jsxs)("aside",{className:"onboarding-message",children:["\uD83D\uDC4B Welcome! ",(0,d.jsx)("a",{href:"/interests",children:"Choose your favourite activities"})," to get personalized suggestions."]}),w?(0,d.jsx)("div",{style:{padding:"2rem"},children:"Please enter a location above to view tailored suggestions."}):l?(0,d.jsx)("div",{style:{padding:"2rem"},children:"⏳ Loading forecast…"}):b?(0,d.jsxs)("div",{style:{padding:"2rem",color:"red"},children:["⚠️ ",b]}):(0,d.jsx)("div",{className:"main-grid",role:"list",children:a.map((e,n)=>{let t=(0,c.p)({forecast:[{date:e.date,weather:{temperature:e.temperature,precipitation:e.rain,windSpeed:e.wind_speed,clouds:e.clouds,water_temp:null,humidity:e.humidity,visibility:e.visibility}}],interests:i,activities:p.b})[0]?.suggestions??[],a=t.filter(e=>"perfect"===e.evaluation),o=t.filter(e=>["good","acceptable"].includes(e.evaluation)),r=t.filter(e=>["indoor","indoorAlternative"].includes(e.evaluation)),s=_(i),l=0===a.length&&0===o.length,g=a.length>0?a[0].activityId:o.length>0?o[0].activityId:r.length>0?r[0].activityId:"indoorsy",u=`url(${m[g]||"/indoorsy.png"})`;return(0,d.jsxs)("article",{className:"activity-card-enhanced",style:{backgroundImage:u,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",borderRadius:22,color:"#fff",overflow:"hidden",position:"relative",minHeight:170},role:"listitem",tabIndex:0,"aria-label":`Suggestions for ${new Date(e.date).toLocaleDateString("en-GB",{weekday:"long"})}`,children:[(0,d.jsx)("div",{style:{position:"absolute",inset:0,background:"rgba(0,0,0,0.32)",borderRadius:22,zIndex:1}}),(0,d.jsxs)("div",{style:{position:"relative",zIndex:2,padding:"1.5rem"},children:[(0,d.jsx)("h2",{className:"day-name",children:0===n?"Today is perfect for":new Date(e.date).toLocaleDateString("en-GB",{weekday:"long"})}),(0,d.jsxs)("p",{children:[e.temperature,"\xb0C • ",e.description," ",e.totalRain>0?`• ${e.totalRain}mm rain`:"• Dry day"]}),a.length>0&&(()=>{let e=a[0],n=p.b.find(n=>n.id===e.activityId);return(0,d.jsx)("div",{className:"perfect-activity",style:{marginTop:18},children:(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,d.jsx)("span",{style:{fontSize:"2.3rem",marginRight:15},children:h(e.activityId)}),(0,d.jsxs)("strong",{style:{fontSize:"1.25rem"},children:[n?.name||e.activityId,null!=e.score?` (${Math.round(e.score)})`:""]})]})})})(),!l&&o.length>0&&(0,d.jsxs)("div",{className:"also-good-section",style:{marginTop:14},children:[(0,d.jsx)("strong",{children:"Also good:"}),(0,d.jsx)("ul",{children:o.map(e=>{let n=p.b.find(n=>n.id===e.activityId);return(0,d.jsxs)("li",{children:[h(e.activityId)," ",n?.name||e.activityId]},e.activityId)})})]}),(l||r.length>0)&&(0,d.jsxs)("div",{className:"indoor-section",style:{marginTop:14},children:[(0,d.jsx)("strong",{children:"Indoor ideas:"}),(0,d.jsx)("ul",{children:(r.length>0?r:s).map(e=>{let n=p.b.find(n=>n.id===e.activityId);return(0,d.jsxs)("li",{children:[h(e.activityId)," ",n?.name||e.activityId]},e.activityId)})})]})]})]},e.date)})})]})}let f=(0,r.M)(t,"default"),v=(0,r.M)(t,"getStaticProps"),w=(0,r.M)(t,"getStaticPaths"),k=(0,r.M)(t,"getServerSideProps"),x=(0,r.M)(t,"config"),j=(0,r.M)(t,"reportWebVitals"),P=(0,r.M)(t,"unstable_getStaticProps"),S=(0,r.M)(t,"unstable_getStaticPaths"),I=(0,r.M)(t,"unstable_getStaticParams"),A=(0,r.M)(t,"unstable_getServerProps"),M=(0,r.M)(t,"unstable_getServerSideProps"),N=new a.PagesRouteModule({definition:{kind:o.A.PAGES,page:"/index",pathname:"/",bundlePath:"",filename:""},components:{App:l.default,Document:s.default},userland:t})},8732:e=>{e.exports=require("react/jsx-runtime")}};var n=require("../webpack-runtime.js");n.C(e);var i=e=>n(n.s=e),t=n.X(0,[300,341,918,198],()=>i(5255));module.exports=t})();